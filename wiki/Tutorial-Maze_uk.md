# Посібник: Створення Гри-Лабіринту

> **Select your language / Choisissez votre langue / Wählen Sie Ihre Sprache:**
>
> [English](Tutorial-Maze) | [Français](Tutorial-Maze_fr) | [Deutsch](Tutorial-Maze_de) | [Italiano](Tutorial-Maze_it) | [Español](Tutorial-Maze_es) | [Português](Tutorial-Maze_pt) | [Slovenščina](Tutorial-Maze_sl) | [Українська](Tutorial-Maze_uk) | [Русский](Tutorial-Maze_ru)

---

## Вступ

У цьому посібнику ви створите **Гру-Лабіринт**, де гравець проходить через коридори до виходу, уникаючи перешкод та збираючи монети. Цей класичний тип гри ідеально підходить для вивчення плавного руху, виявлення зіткнень та дизайну рівнів.

**Що ви навчитесь:**
- Плавний рух гравця з введенням з клавіатури
- Обробка зіткнень зі стінами
- Виявлення цілі (досягнення виходу)
- Предмети для збирання
- Проста система таймера

**Складність:** Початківець
**Пресет:** Пресет для Початківців

---

## Крок 1: Зрозуміти Гру

### Правила Гри
1. Гравець рухається лабіринтом за допомогою клавіш зі стрілками
2. Стіни блокують рух гравця
3. Збирайте монети для очок
4. Досягніть виходу, щоб завершити рівень
5. Пройдіть лабіринт якомога швидше!

### Що Нам Потрібно

| Елемент | Призначення |
|---------|-------------|
| **Гравець** | Персонаж, яким ви керуєте |
| **Стіна** | Тверді перешкоди, що блокують рух |
| **Вихід** | Ціль, що завершує рівень |
| **Монета** | Предмети для збирання та очок |
| **Підлога** | Візуальний фон (необов'язково) |

---

## Крок 2: Створити Спрайти

Всі спрайти стін та підлоги повинні бути 32x32 пікселі для створення правильної сітки.

### 2.1 Спрайт Гравця

1. У **Дереві Ресурсів** клацніть правою кнопкою на **Спрайти** та виберіть **Створити Спрайт**
2. Назвіть його `spr_player`
3. Натисніть **Редагувати Спрайт**, щоб відкрити редактор
4. Намалюйте маленького персонажа (коло, людину або форму стрілки)
5. Використовуйте яскравий колір, як синій або зелений
6. Розмір: 24x24 пікселі (менше за стіни для легшої навігації)
7. Натисніть **OK** для збереження

### 2.2 Спрайт Стіни

1. Створіть новий спрайт з назвою `spr_wall`
2. Намалюйте твердий візерунок цегли або каменю
3. Використовуйте сірі або темні кольори
4. Розмір: 32x32 пікселі

### 2.3 Спрайт Виходу

1. Створіть новий спрайт з назвою `spr_exit`
2. Намалюйте двері, прапор або яскравий маркер цілі
3. Використовуйте зелені або золоті кольори
4. Розмір: 32x32 пікселі

### 2.4 Спрайт Монети

1. Створіть новий спрайт з назвою `spr_coin`
2. Намалюйте маленьке жовте/золоте коло
3. Розмір: 16x16 пікселів

### 2.5 Спрайт Підлоги (Необов'язково)

1. Створіть новий спрайт з назвою `spr_floor`
2. Намалюйте простий візерунок плитки підлоги
3. Використовуйте світлий нейтральний колір
4. Розмір: 32x32 пікселі

---

## Крок 3: Створити Об'єкт Стіни

Стіна блокує рух гравця.

1. Клацніть правою кнопкою на **Об'єкти** та виберіть **Створити Об'єкт**
2. Назвіть його `obj_wall`
3. Встановіть спрайт на `spr_wall`
4. **Поставте галочку "Твердий"**
5. Події не потрібні

---

## Крок 4: Створити Об'єкт Виходу

Вихід завершує рівень, коли гравець його досягає.

1. Створіть новий об'єкт з назвою `obj_exit`
2. Встановіть спрайт на `spr_exit`

**Подія: Зіткнення з obj_player**
1. Додати Подію → Зіткнення → obj_player
2. Додати Дію: **Main2** → **Показати Повідомлення**
   - Повідомлення: `Ви перемогли! Час: ` + string(floor(global.timer)) + ` секунд`
3. Додати Дію: **Main1** → **Наступна Кімната** (або **Перезапустити Кімнату** для одного рівня)

---

## Крок 5: Створити Об'єкт Монети

Монети додають до рахунку при зборі.

1. Створіть новий об'єкт з назвою `obj_coin`
2. Встановіть спрайт на `spr_coin`

**Подія: Зіткнення з obj_player**
1. Додати Подію → Зіткнення → obj_player
2. Додати Дію: **Рахунок** → **Встановити Рахунок**
   - Новий Рахунок: `10`
   - Поставте галочку "Відносно" для додавання 10 очок
3. Додати Дію: **Main1** → **Знищити Екземпляр**
   - Застосовується до: Self

---

## Крок 6: Створити Об'єкт Гравця

Гравець плавно рухається за допомогою клавіш зі стрілками.

1. Створіть новий об'єкт з назвою `obj_player`
2. Встановіть спрайт на `spr_player`

### 6.1 Подія Create - Ініціалізація Змінних

**Подія: Create**
1. Додати Подію → Create
2. Додати Дію: **Керування** → **Встановити Змінну**
   - Змінна: `move_speed`
   - Значення: `4`

### 6.2 Рух з Зіткненнями

**Подія: Step**
1. Додати Подію → Step → Step
2. Додати Дію: **Керування** → **Виконати Код**

```gml
// Горизонтальний рух
var hspd = 0;
if (keyboard_check(vk_right)) hspd = move_speed;
if (keyboard_check(vk_left)) hspd = -move_speed;

// Вертикальний рух
var vspd = 0;
if (keyboard_check(vk_down)) vspd = move_speed;
if (keyboard_check(vk_up)) vspd = -move_speed;

// Перевірка горизонтального зіткнення
if (!place_meeting(x + hspd, y, obj_wall)) {
    x += hspd;
} else {
    // Рухатися якомога ближче до стіни
    while (!place_meeting(x + sign(hspd), y, obj_wall)) {
        x += sign(hspd);
    }
}

// Перевірка вертикального зіткнення
if (!place_meeting(x, y + vspd, obj_wall)) {
    y += vspd;
} else {
    // Рухатися якомога ближче до стіни
    while (!place_meeting(x, y + sign(vspd), obj_wall)) {
        y += sign(vspd);
    }
}
```

### 6.3 Альтернатива: Простий Рух Блоками

Якщо ви віддаєте перевагу використанню блоків дій замість коду:

**Подія: Клавіша Натиснута - Стрілка Вправо**
1. Додати Подію → Клавіатура → \<Вправо\>
2. Додати Дію: **Керування** → **Перевірити Зіткнення**
   - Об'єкт: `obj_wall`
   - X: `4`
   - Y: `0`
   - Перевірити: NOT
3. Додати Дію: **Рух** → **Стрибнути на Позицію**
   - X: `4`
   - Y: `0`
   - Поставте галочку "Відносно"

Повторіть для Вліво (-4, 0), Вгору (0, -4) та Вниз (0, 4).

---

## Крок 7: Створити Контролер Гри

Контролер гри керує таймером та відображає інформацію.

1. Створіть новий об'єкт з назвою `obj_game_controller`
2. Спрайт не потрібен

**Подія: Create**
1. Додати Подію → Create
2. Додати Дію: **Керування** → **Встановити Змінну**
   - Змінна: `global.timer`
   - Значення: `0`

**Подія: Step**
1. Додати Подію → Step → Step
2. Додати Дію: **Керування** → **Встановити Змінну**
   - Змінна: `global.timer`
   - Значення: `1/room_speed`
   - Поставте галочку "Відносно"

**Подія: Draw**
1. Додати Подію → Draw → Draw
2. Додати Дію: **Керування** → **Виконати Код**

```gml
// Намалювати рахунок
draw_set_color(c_white);
draw_text(10, 10, "Очки: " + string(score));

// Намалювати таймер
draw_text(10, 30, "Час: " + string(floor(global.timer)) + "с");

// Намалювати залишені монети
var coins_left = instance_number(obj_coin);
draw_text(10, 50, "Монети: " + string(coins_left));
```

---

## Крок 8: Спроектуйте Свій Лабіринт

1. Клацніть правою кнопкою на **Кімнати** та виберіть **Створити Кімнату**
2. Назвіть її `room_maze`
3. Встановіть розмір кімнати (наприклад, 640x480)
4. Увімкніть "Прив'язка до Сітки" та встановіть сітку на 32x32

### Розміщення Об'єктів

Побудуйте свій лабіринт за цими рекомендаціями:

1. **Створіть межу** - Оточіть кімнату стінами
2. **Побудуйте коридори** - Створіть шляхи через лабіринт
3. **Розмістіть вихід** - Поставте його в кінці лабіринту
4. **Розкидайте монети** - Розмістіть їх вздовж шляхів
5. **Розмістіть гравця** - Біля входу
6. **Додайте контролер гри** - Де завгодно (він невидимий)

### Приклад Макету Лабіринту

```
W W W W W W W W W W W W W W W W W W W W
W P . . . . W . . . . . . . W . . . . W
W . W W W . W . W W W W W . W . W W . W
W . W . . . . . . . . . . . . . . W . W
W . W . W W W W W . W W W W W W . W . W
W . . . W . . . . . . . . C . W . . . W
W W W . W . W W W W W W W . . W W W . W
W C . . . . W . . . . . W . . . . . . W
W . W W W W W . W W W . W W W W W W . W
W . . . . . . . . C . . . . . . . . . W
W . W W W W W W W W W . W W W W W W . W
W . . . . . . . . . . . W . . . . . . W
W W W W W W W W W W W . W . W W W W . W
W . . . . . . . . . . . . . W . C . E W
W W W W W W W W W W W W W W W W W W W W

W = Стіна    P = Гравець    E = Вихід    C = Монета    . = Порожньо
```

---

## Крок 9: Протестуйте Свою Гру!

1. Натисніть **Запустити** або натисніть **F5** для тестування
2. Використовуйте клавіші зі стрілками для навігації лабіринтом
3. Збирайте монети для очок
4. Знайдіть вихід, щоб перемогти!

---

## Покращення (Необов'язково)

### Додати Ворогів

Створіть простого патрулюючого ворога:

1. Створіть `spr_enemy` (червоний колір, 24x24)
2. Створіть `obj_enemy` зі спрайтом `spr_enemy`

**Подія: Create**
```gml
hspeed = 2;  // Рухається горизонтально
```

**Подія: Зіткнення з obj_wall**
```gml
hspeed = -hspeed;  // Змінити напрямок
```

**Подія: Зіткнення з obj_player**
```gml
room_restart();  // Гравець програє
```

### Додати Систему Життів

У події Create `obj_game_controller`:
```gml
global.lives = 3;
```

Коли гравець торкається ворога (замість перезапуску):
```gml
global.lives -= 1;
if (global.lives <= 0) {
    show_message("Гра закінчена!");
    game_restart();
} else {
    // Відродити гравця на старті
    obj_player.x = start_x;
    obj_player.y = start_y;
}
```

### Додати Ключі та Замкнені Двері

1. Створіть `obj_key` - зникає при зборі, встановлює `global.has_key = true`
2. Створіть `obj_locked_door` - відкривається тільки коли `global.has_key == true`

### Додати Кілька Рівнів

1. Створіть додаткові кімнати (`room_maze2`, `room_maze3`)
2. У `obj_exit` використовуйте `room_goto_next()` замість `room_restart()`

### Додати Звукові Ефекти

Додайте звуки для:
- Збирання монет
- Досягнення виходу
- Торкання ворогів (якщо додані)
- Фонова музика

---

## Усунення Неполадок

| Проблема | Рішення |
|----------|---------|
| Гравець проходить крізь стіни | Перевірте, що `obj_wall` має позначку "Твердий" |
| Гравець застрягає в стінах | Переконайтеся, що спрайт гравця менший за проміжки між стінами |
| Монети не зникають | Перевірте, що подія зіткнення знищує Self, а не Other |
| Таймер не працює | Переконайтеся, що контролер гри розміщений у кімнаті |
| Рух відчувається ривковим | Налаштуйте значення `move_speed` (спробуйте 3-5) |

---

## Що Ви Навчились

Вітаємо! Ви створили гру-лабіринт! Ви навчились:

- **Плавний рух** - Перевірка стану натиснутих клавіш для безперервного руху
- **Виявлення зіткнень** - Використання `place_meeting` для перевірки перед рухом
- **Піксельно-точне зіткнення** - Рух якомога ближче до стін
- **Предмети для збирання** - Створення предметів, що збільшують рахунок та зникають
- **Система таймера** - Відстеження часу за допомогою змінних
- **Дизайн рівнів** - Створення прохідних макетів лабіринтів

---

## Ідеї для Викликів

1. **Гонка з Часом** - Додайте таймер зворотного відліку. Досягніть виходу до закінчення часу!
2. **Ідеальний Рахунок** - Вимагайте зібрати всі монети перед відкриттям виходу
3. **Випадковий Лабіринт** - Дослідіть процедурну генерацію лабіринтів
4. **Туман Війни** - Показуйте тільки область навколо гравця
5. **Мінікарта** - Відображайте малий огляд лабіринту

---

## Дивіться Також

- [Посібники](Tutorials_uk) - Більше ігрових посібників
- [Пресет для Початківців](Beginner-Preset_uk) - Огляд функцій для початківців
- [Посібник: Pong](Tutorial-Pong_uk) - Створіть гру на двох гравців
- [Посібник: Breakout](Tutorial-Breakout_uk) - Створіть гру з розбиванням цегли
- [Посібник: Sokoban](Tutorial-Sokoban_uk) - Створіть головоломку з пересуванням ящиків
- [Довідник Подій](Event-Reference_uk) - Повна документація подій
