# Введение в Создание Видеоигр с PyGameMaker

*[Home_ru](Home_ru) | [Beginner-Preset_ru](Beginner-Preset_ru) | [English](Getting-Started-Breakout) | [Francais](Getting-Started-Breakout_fr)*

**Команда PyGameMaker**

---

В этом руководстве мы изучим основы создания игр с помощью PyGameMaker. Поскольку это достаточно полнофункциональное программное обеспечение с множеством возможностей, мы сосредоточимся только на тех функциях, которые понадобятся нам в ходе этого урока.

Мы создадим простую игру в стиле Breakout, которая будет выглядеть примерно так:

![Концепция игры Breakout](https://upload.wikimedia.org/wikipedia/commons/thumb/c/c7/Breakout2600.svg/220px-Breakout2600.svg.png)

Это руководство подойдет вам, даже если у вас нет опыта программирования, поскольку PyGameMaker позволяет новичкам легко создавать игры независимо от уровня их навыков.

Итак, давайте начнем проектировать нашу игру!

---

## Шаг 1: Начало работы

Начните с открытия PyGameMaker. Вы должны увидеть главный интерфейс с панелью **Assets** (Ресурсы) в левой части, где перечислены различные категории ресурсов: Sprites (Спрайты), Sounds (Звуки), Backgrounds (Фоны), Fonts (Шрифты), Objects (Объекты) и Rooms (Комнаты).

Прежде всего, в видеоигре первое, что замечает игрок - это то, что он видит на экране. Это, по сути, основа игры: игры без графики не существует (или это очень особый случай). Поэтому мы начнем с добавления изображений в нашу игру, которые будут графическим представлением объектов, видимых игроком на экране. В терминологии разработки игр эти изображения называются **Спрайтами** (Sprites).

---

## Шаг 2: Создание спрайтов

### 2.1 Создание спрайта ракетки

1. Щелкните правой кнопкой мыши по папке **Sprites** в верхней части левой колонки
2. Нажмите **Create Sprite** (Создать спрайт)
3. Откроется окно **Sprite Properties** (Свойства спрайта) - здесь вы определите все характеристики вашего спрайта
4. Используйте встроенный редактор, чтобы нарисовать горизонтальный прямоугольник (примерно 64x16 пикселей) любого цвета на ваш выбор
5. **Важно:** Нажмите **Center** (Центр), чтобы установить начало координат в центре вашего спрайта
   > Начало координат спрайта - это его центральная точка, его координаты X:0 и Y:0. Это его базовые координаты.
6. Измените имя спрайта, используя текстовое поле вверху, и введите `spr_paddle`
   > Это не имеет технического значения - просто помогает лучше ориентироваться в файлах, когда их станет больше. Вы можете выбрать любое имя; это лишь пример.
7. Нажмите **OK**

Вы только что создали свой первый спрайт! Это ваша ракетка - объект, которым игрок будет управлять, чтобы отбивать мяч.

### 2.2 Создание спрайта мяча

Продолжим и добавим еще спрайты. Повторите тот же процесс:

1. Щелкните правой кнопкой мыши на **Sprites** -> **Create Sprite**
2. Нарисуйте небольшой круг (примерно 16x16 пикселей)
3. Нажмите **Center**, чтобы установить начало координат
4. Назовите его `spr_ball`
5. Нажмите **OK**

### 2.3 Создание спрайтов кирпичей

Нам нужно три типа кирпичей. Создайте их по очереди:

**Первый кирпич (разрушаемый):**
1. Создайте новый спрайт
2. Нарисуйте прямоугольник (примерно 48x24 пикселя) - используйте яркий цвет, например красный
3. Нажмите **Center**, назовите его `spr_brick_1`
4. Нажмите **OK**

**Второй кирпич (разрушаемый):**
1. Создайте новый спрайт
2. Нарисуйте прямоугольник (такого же размера) - используйте другой цвет, например синий
3. Нажмите **Center**, назовите его `spr_brick_2`
4. Нажмите **OK**

**Третий кирпич (неразрушаемая стена):**
1. Создайте новый спрайт
2. Нарисуйте прямоугольник (такого же размера) - используйте темный цвет, например серый
3. Нажмите **Center**, назовите его `spr_brick_3`
4. Нажмите **OK**

Теперь у вас должны быть все спрайты для нашей игры:
- `spr_paddle` - Ракетка игрока
- `spr_ball` - Прыгающий мяч
- `spr_brick_1` - Первый разрушаемый кирпич
- `spr_brick_2` - Второй разрушаемый кирпич
- `spr_brick_3` - Неразрушаемый кирпич-стена

> **Примечание:** В играх обычно есть два основных источника графического отображения: **Спрайты** и **Фоны**. Это все, из чего состоит то, что вы видите на экране. Фон (Background) - это, как следует из названия, фоновое изображение.

---

## Шаг 3: Понимание объектов и событий

Что мы сказали в начале? Первое, что замечает игрок - это то, что он видит на экране. Мы позаботились об этом с помощью наших спрайтов. Но игра, состоящая только из изображений - это не игра, это картина! Теперь мы перейдем к следующему этапу: **Объекты** (Objects).

Объект - это сущность в вашей игре, которая может иметь поведение, реагировать на события и взаимодействовать с другими объектами. Спрайт - это лишь визуальное представление; объект - это то, что придает ему жизнь.

### Как работает игровая логика

Все в программировании игр следует этому шаблону: **Если происходит это, тогда я выполняю то.**

- Если игрок нажимает клавишу, тогда я делаю это
- Если эта переменная равна этому значению, тогда я делаю то
- Если два объекта сталкиваются, тогда что-то происходит

Это то, что мы называем **События** (Events) и **Действия** (Actions) в PyGameMaker:
- **События** = Вещи, которые могут произойти (нажатие клавиши, столкновение, таймер и т.д.)
- **Действия** = Вещи, которые вы хотите сделать, когда происходят события (двигаться, уничтожить, изменить счет и т.д.)

---

## Шаг 4: Создание объекта ракетки

Давайте создадим объект, которым будет управлять игрок: ракетку.

### 4.1 Создание объекта

1. Щелкните правой кнопкой мыши по папке **Objects** -> **Create Object**
2. Назовите его `obj_paddle`
3. В выпадающем списке **Sprite** выберите `spr_paddle` - теперь у нашего объекта есть внешний вид!
4. Установите флажок **Solid** (Твердый) - это понадобится для столкновений

### 4.2 Программирование движения

В игре Breakout нам нужно двигать ракетку, чтобы мяч не ускользнул внизу. Мы будем управлять ей с помощью клавиатуры.

**Движение вправо:**
1. Нажмите **Add Event** (Добавить событие) -> **Keyboard** (Клавиатура) -> **Right Arrow** (Стрелка вправо)
2. В панели действий справа добавьте действие **Set Horizontal Speed** (Установить горизонтальную скорость)
3. Установите **value** (значение) равным `5`
4. Нажмите **OK**

Это означает: "Когда нажата клавиша стрелки вправо, установить горизонтальную скорость равной 5 (движение вправо)."

**Движение влево:**
1. Нажмите **Add Event** -> **Keyboard** -> **Left Arrow** (Стрелка влево)
2. Добавьте действие **Set Horizontal Speed**
3. Установите **value** равным `-5`
4. Нажмите **OK**

**Остановка при отпускании клавиш:**

Если мы протестируем сейчас, ракетка будет продолжать двигаться даже после отпускания клавиши! Давайте исправим это:

1. Нажмите **Add Event** -> **Keyboard Release** (Отпускание клавиши) -> **Right Arrow**
2. Добавьте действие **Set Horizontal Speed** со значением `0`
3. Нажмите **OK**

4. Нажмите **Add Event** -> **Keyboard Release** -> **Left Arrow**
5. Добавьте действие **Set Horizontal Speed** со значением `0`
6. Нажмите **OK**

Теперь наша ракетка движется при нажатии клавиш и останавливается при их отпускании. С этим объектом мы пока закончили!

---

## Шаг 5: Создание объекта кирпича-стены

Давайте создадим неразрушаемый кирпич-стену - он будет образовывать границы нашей игровой области.

1. Создайте новый объект с именем `obj_brick_3`
2. Назначьте спрайт `spr_brick_3`
3. Установите флажок **Solid**

Мяч будет отскакивать от этого кирпича. Поскольку это просто стена, нам не нужны никакие события - он просто должен быть твердым. Нажмите **OK** для сохранения.

---

## Шаг 6: Создание объекта мяча

Теперь давайте создадим мяч - ключевой элемент нашей игры.

### 6.1 Создание объекта

1. Создайте новый объект с именем `obj_ball`
2. Назначьте спрайт `spr_ball`
3. Установите флажок **Solid**

### 6.2 Начальное движение

Мы хотим, чтобы мяч двигался сам с самого начала. Давайте зададим ему начальную скорость и направление.

1. Нажмите **Add Event** -> **Create** (Создание)
   > Событие Create выполняет действия, когда объект появляется в игре, то есть когда он входит в сцену.
2. Добавьте действие **Set Horizontal Speed** со значением `4`
3. Добавьте действие **Set Vertical Speed** (Установить вертикальную скорость) со значением `-4`
4. Нажмите **OK**

Это придает мячу диагональное движение (вправо и вверх) в начале игры.

### 6.3 Отскок от ракетки

Нам нужно, чтобы мяч отскакивал при столкновении с ракеткой.

1. Нажмите **Add Event** -> **Collision** (Столкновение) -> выберите `obj_paddle`
   > Это событие срабатывает, когда мяч сталкивается с ракеткой.
2. Добавьте действие **Reverse Vertical** (Изменить вертикальное направление на противоположное)
   > Это действие изменяет вертикальное направление на противоположное, заставляя мяч отскакивать.
3. Нажмите **OK**

### 6.4 Отскок от стен

Та же операция для кирпичей-стен:

1. Нажмите **Add Event** -> **Collision** -> выберите `obj_brick_3`
2. Добавьте действие **Reverse Vertical**
3. Добавьте действие **Reverse Horizontal** (Изменить горизонтальное направление на противоположное)
   > Мы добавляем оба, потому что мяч может ударить стену под разными углами.
4. Нажмите **OK**

---

## Шаг 7: Тестирование прогресса - Создание комнаты

После Спрайтов и Объектов настала очередь **Комнат** (Rooms). Комната - это место, где происходит игра: это карта, уровень. Здесь вы размещаете все элементы игры, здесь вы организуете то, что появится на экране.

### 7.1 Создание комнаты

1. Щелкните правой кнопкой мыши на **Rooms** -> **Create Room**
2. Назовите её `room_game`

### 7.2 Размещение объектов

Теперь разместите ваши объекты с помощью мыши:
- **Левый клик** - разместить объект
- **Правый клик** - удалить объект

Выберите объект для размещения в выпадающем меню редактора комнаты.

**Постройте ваш уровень:**
1. Разместите экземпляры `obj_brick_3` по краям (сверху, слева, справа) - оставьте низ открытым!
2. Разместите `obj_paddle` внизу по центру
3. Разместите `obj_ball` где-нибудь в середине

### 7.3 Тестирование игры!

Нажмите кнопку **Play** (зеленая стрелка) на панели инструментов. Это позволяет вам тестировать игру в любое время.

Вы уже можете поиграть, отбивая мяч от стен и ракетки!

Это минимально, но уже хорошее начало - у вас есть основа игры!

---

## Шаг 8: Добавление разрушаемых кирпичей

Давайте добавим кирпичи, которые можно разбить, чтобы сделать нашу игру интереснее.

### 8.1 Первый разрушаемый кирпич

1. Создайте новый объект с именем `obj_brick_1`
2. Назначьте спрайт `spr_brick_1`
3. Установите флажок **Solid**

Мы добавим поведение для уничтожения себя при попадании мяча:

1. Нажмите **Add Event** -> **Collision** -> выберите `obj_ball`
2. Добавьте действие **Destroy Instance** (Уничтожить экземпляр) с целью **self** (себя)
   > Это действие удаляет объект во время игры - здесь сам кирпич.
3. Нажмите **OK**

И вот так у вас есть новый разрушаемый кирпич!

### 8.2 Второй разрушаемый кирпич (с использованием родителя)

Теперь мы создадим второй разрушаемый кирпич, но без необходимости перепрограммировать его. Мы сделаем его "клоном", используя функцию **Parent** (Родитель).

1. Создайте новый объект с именем `obj_brick_2`
2. Назначьте спрайт `spr_brick_2`
3. Установите флажок **Solid**
4. В выпадающем списке **Parent** выберите `obj_brick_1`

Что это означает? Просто то, что все, что мы запрограммировали в `obj_brick_1`, будет унаследовано `obj_brick_2`, без необходимости воспроизводить это самим. Отношение родитель-потомок позволяет объектам совместно использовать поведение!

Нажмите **OK** для сохранения.

### 8.3 Заставляем мяч отскакивать от новых кирпичей

Откройте снова `obj_ball` двойным щелчком и добавьте события столкновения для наших новых кирпичей:

1. Нажмите **Add Event** -> **Collision** -> выберите `obj_brick_1`
2. Добавьте действие **Reverse Vertical**
3. Нажмите **OK**

4. Нажмите **Add Event** -> **Collision** -> выберите `obj_brick_2`
5. Добавьте действие **Reverse Vertical**
6. Нажмите **OK**

---

## Шаг 9: Конец игры - Перезапуск комнаты

Нам нужно перезапустить уровень, если мяч вылетит за экран (если игрок не успеет его поймать).

В `obj_ball`:

1. Нажмите **Add Event** -> **Other** (Другое) -> **Outside Room** (За пределами комнаты)
2. Добавьте действие **Restart Room** (Перезапустить комнату)
   > Это действие перезапускает текущую комнату во время игры.
3. Нажмите **OK**

---

## Шаг 10: Финальный дизайн уровня

Теперь разместите все в вашей комнате, чтобы создать финальный уровень Breakout:

1. Откройте `room_game`
2. Расположите стены `obj_brick_3` сверху и по бокам
3. Разместите ряды `obj_brick_1` и `obj_brick_2` в виде узоров вверху
4. Оставьте `obj_paddle` внизу по центру
5. Разместите `obj_ball` над ракеткой

**Пример расположения:**
```
[3][3][3][3][3][3][3][3][3][3]
[3][1][1][2][2][1][1][2][2][3]
[3][2][2][1][1][2][2][1][1][3]
[3][1][1][2][2][1][1][2][2][3]
[3]                        [3]
[3]                        [3]
[3]         (мяч)          [3]
[3]                        [3]
[3]       [ракетка]        [3]
```

---

## Поздравляем!

Ваша игра Breakout завершена! Теперь вы можете насладиться плодами своего труда, играя в игру, которую только что создали!

Вы также можете улучшить её дальше, добавив:
- **Звуковые эффекты** для отскоков и разрушения кирпичей
- **Подсчет очков** с помощью действия Add Score (Добавить очки)
- **Дополнительные типы кирпичей** с различным поведением
- **Несколько уровней** с разными расположениями

---

## Краткое содержание изученного

| Концепция | Описание |
|-----------|----------|
| **Спрайты (Sprites)** | Визуальные изображения, представляющие объекты в вашей игре |
| **Объекты (Objects)** | Игровые сущности с поведением, объединяющие спрайты с событиями и действиями |
| **События (Events)** | Триггеры, запускающие действия (Create, Keyboard, Collision и т.д.) |
| **Действия (Actions)** | Операции для выполнения (Move, Destroy, Bounce и т.д.) |
| **Solid (Твердый)** | Свойство, включающее обнаружение столкновений |
| **Parent (Родитель)** | Позволяет объектам наследовать поведение от других объектов |
| **Комнаты (Rooms)** | Игровые уровни, где вы размещаете экземпляры объектов |

---

## Сводка объектов

| Объект | Спрайт | Solid | События |
|--------|--------|-------|---------|
| `obj_paddle` | `spr_paddle` | Да | Keyboard (Left/Right), Keyboard Release |
| `obj_ball` | `spr_ball` | Да | Create, Collision (paddle, bricks), Outside Room |
| `obj_brick_1` | `spr_brick_1` | Да | Collision (ball) - Уничтожить себя |
| `obj_brick_2` | `spr_brick_2` | Да | Наследует от `obj_brick_1` |
| `obj_brick_3` | `spr_brick_3` | Да | Нет (просто стена) |

---

## Смотрите также

- [Beginner-Preset_ru](Beginner-Preset_ru) - События и действия, доступные для начинающих
- [Event-Reference_ru](Event-Reference_ru) - Полный список всех событий
- [Full-Action-Reference_ru](Full-Action-Reference_ru) - Полный список всех действий
- [Tutorial-Breakout_ru](Tutorial-Breakout_ru) - Краткая версия этого руководства

---

Теперь вы освоили основы создания видеоигр с PyGameMaker. Настала ваша очередь создавать собственные игры!
